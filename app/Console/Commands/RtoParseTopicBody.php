<?php

namespace App\Console\Commands;

use App\Services\Rto;
use Ivacuum\Generic\Commands\Command;
use Symfony\Component\Console\Attribute\AsCommand;

#[AsCommand('app:parse-topic-body')]
class RtoParseTopicBody extends Command
{
    protected $signature = 'app:parse-topic-body {topicId}';
    protected $description = 'Get html of the rto topic';

    public function handle(Rto $rto)
    {
        \Validator::make($this->arguments(), [
            'topicId' => 'required|integer',
        ])->validate();

        dump($rto->parseTopicBody($this->argument('topicId')));

        return self::SUCCESS;
    }
}
